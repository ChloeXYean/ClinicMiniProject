<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:ClinicMiniProject.ViewModels"
             xmlns:controls="clr-namespace:ClinicMiniProject.UI.Control"
             x:Class="ClinicMiniProject.UI.Patient.AppointmentCancellationPage"
             BackgroundColor="#F8F9FB"
             Shell.NavBarIsVisible="False">

	<Grid RowDefinitions="Auto, *">
		<!-- Header -->
		<controls:BackNavBar Title="Cancel Appointment" Grid.Row="0"/>

		<ScrollView Grid.Row="1">
			<VerticalStackLayout Spacing="25" Padding="20">

				<!-- Info Section -->
				<Frame BackgroundColor="White" HasShadow="False" CornerRadius="12" BorderColor="#E0E6ED">
					<VerticalStackLayout Spacing="15">
						<Label Text="Are you sure you want to cancel this appointment?"
                               FontSize="18" FontAttributes="Bold" HorizontalOptions="Center"
                               HorizontalTextAlignment="Center" TextColor="#2D3142"/>

						<BoxView HeightRequest="1" BackgroundColor="#E0E6ED"/>

						<Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto, Auto" RowSpacing="10" ColumnSpacing="15">
							<Label Text="Doctor:" FontAttributes="Bold" Grid.Row="0" Grid.Column="0" TextColor="#666"/>
							<Label Text="{Binding DoctorName}" Grid.Row="0" Grid.Column="1" TextColor="#2D3142"/>

							<Label Text="Date:" FontAttributes="Bold" Grid.Row="1" Grid.Column="0" TextColor="#666"/>
							<Label Text="{Binding Date}" Grid.Row="1" Grid.Column="1" TextColor="#2D3142"/>

							<Label Text="Time:" FontAttributes="Bold" Grid.Row="2" Grid.Column="0" TextColor="#666"/>
							<Label Text="{Binding Time}" Grid.Row="2" Grid.Column="1" TextColor="#2D3142"/>
						</Grid>
					</VerticalStackLayout>
				</Frame>

				<!-- Warning Section -->
				<Frame BackgroundColor="#FFF4F4" HasShadow="False" CornerRadius="12" BorderColor="#FFD6D6">
					<VerticalStackLayout Spacing="10">
						<HorizontalStackLayout Spacing="10" VerticalOptions="Center">
							<Label Text="⚠️" FontSize="20"/>
							<Label Text="Cancellation Policy" FontAttributes="Bold" FontSize="16" TextColor="#D11A2A"/>
						</HorizontalStackLayout>
						<Label Text="Appointments must be cancelled at least 24 hours in advance. Once cancelled, this slot will be made available to other patients."
                               FontSize="14" TextColor="#666"/>
					</VerticalStackLayout>
				</Frame>

				<!-- Actions -->
				<VerticalStackLayout Spacing="10">
					<Button Text="Confirm Cancellation"
                            Command="{Binding ConfirmCancelCommand}"
                            BackgroundColor="#FF4D4D"
                            TextColor="White"
                            FontAttributes="Bold"
                            HeightRequest="50"
                            CornerRadius="25"/>

					<Button Text="Keep Appointment"
                            Command="{Binding GoBackCommand}"
                            BackgroundColor="Transparent"
                            BorderColor="#2D60FF"
                            BorderWidth="1"
                            TextColor="#2D60FF"
                            FontAttributes="Bold"
                            HeightRequest="50"
                            CornerRadius="25"/>
				</VerticalStackLayout>

				<ActivityIndicator IsRunning="{Binding IsBusy}" IsVisible="{Binding IsBusy}"
                                   HorizontalOptions="Center" Color="#2D60FF"/>

			</VerticalStackLayout>
		</ScrollView>
	</Grid>
</ContentPage>